\documentclass[handout]{beamer}

\input{aulas-beamer-preamble}


\title[Programação Modular]
{%
	Classes e objetos: Utilizando Construtores%
}
\author[Prof. Pedro Pongelupe]
{
	Prof.~Pedro Pongelupe
}
\institute[DCC / PUC Minas]
{\epsfig{file=puclogo_small_bw,width=1.5cm} \\
  \textsc{Pontifícia Universidade Católica de Minas Gerais}\\
	Departamento de Ciência da Computação
}
\date[]{}

\lstset{language=Java,
   basicstyle=\scriptsize,
   commentstyle=\color{red},
   showstringspaces=false,
   numbers=none,
   numberstyle=\tiny}

\begin{document}


\selectlanguage{brazil}

\begin{frame}
   \titlepage
\end{frame}

%\addtobeamertemplate{frametitle}{}{%
%	\begin{tikzpicture}[remember picture,overlay]
%	\node[anchor=north east,yshift=2pt] at (current page.north east) {\epsfig{file=puclogo_small_bw,width=1.2cm}};
%	\end{tikzpicture}}


%\addtobeamertemplate{frametitle}{}{%
	%\begin{tikzpicture}[node distance=0cm, remember picture, overlay, every node/.style={inner sep=0,outer sep=0, node distance=0cm, baseline=0cm}]
	%\node[anchor=north east] at (current page.north east) {\epsfig{file=puclogo_small_bw,width=1cm}};
	%\end{tikzpicture}}


%\logo{\includegraphics[height=0.8cm]{puclogo_small_bw.pdf}\vspace{220pt}}


\begin{frame}
   \frametitle{Sumário}
   \tableofcontents[pausesections]
\end{frame}

%\AtBeginSection[] % Do nothing for \section*
%{
%\begin{frame}<beamer>
%\frametitle{Outline}
%\tableofcontents[currentsection]
%\end{frame}}


\addtobeamertemplate{frametitle}{}{%
   \begin{textblock*}{10mm}(.9945\textwidth,-1.82cm)
	   \includegraphics[height=1cm]{puclogo_small_bw.pdf}
   \end{textblock*}
}


	
\section{Módulos e classes}
\begin{frame}[fragile]{Orientação por objetos}
  \bi
  \item Orientação por objetos abstrai o mundo real utilizando \underline{objetos que interagem} entre si
  \item Utilizamos o princípio da \underline{decomposibilidade} para desenvolver sistemas modulares
  \ei
  \begin{block}{Exemplos}
          \bi 
  \item Quais são os componentes de uma gestão de estoque?
  \item Quais são os componentes de uma rede social?
  \item Quais são os componentes de um(a) <problema>?
          \ei
  \end{block}
\end{frame}

\subsection{Classes e objetos}
\begin{frame}[fragile]{\underline{C}lasse}
        \begin{block}{O quê é?}
                Representação de um Tipo Abstrato de Dados (TAD).
                \bi
        \item Atributos $\rightarrow$ Dados/Características
        \item Métodos $\rightarrow$ Ações/Comportamentos 
                \ei
        \end{block}
\end{frame}

\begin{frame}[fragile]{\underline{C}lasse: Representação UML}
\begin{center}
    \tiny
\begin{tikzpicture} 
    \umlclass{NomeDeClasse}{ 
        - atributo1 : Tipo1 \\ 
        - atributo2 : Tipo2  
    }{ 
    + metodo1(param : Tipo) : void \\ 
    + metodo2() : void} 
\umlnote[x=-2,y=2.2,width=5cm]{NomeDeClasse}{Nome de classe é obrigatório.} 
\umlnote[x=5,y=-.5,width=3cm]{NomeDeClasse}{Compartimentos de atributos ou métodos sao opcionais.} 
\end{tikzpicture}
\end{center}

\begin{block}{}
    UML (\textit{Unified Modeling Language}) permite representar classes e objetos para fins de modelagem de dados.
\end{block}
\end{frame}


\begin{frame}[fragile]{\underline{C}lasse}
        \begin{block}{Exemplo}
                Classe \underline{Carro}
                \bi
        \item Atributos: Modelo, ano, velocidade, quilomêtros rodados, combustível
        \item Métodos: Abastecer, alterar velocidade
                \ei
        \end{block}
\begin{center}
    \tiny
\begin{tikzpicture} 
    \umlclass{Carro}{ 
        + modelo : String \\ 
        + ano : int \\
        + velocidade :  int \\ 
        + quilometrosRodados :  int \\ 
        + combustivel :  double  
    }{ 
    + abastecer(quantidade: double) : double \\ 
    + alterarVelocidade(velocidade: int) : void} 
\end{tikzpicture}
\end{center}
\end{frame}

\begin{frame}[fragile]{\underline{o}bjeto}
        \begin{block}{O quê é?}
                Um objeto representa uma entidade referenciável de uma classe. É uma \textbf{instância} de uma classe.
                \bi
        \item carro1 $\rightarrow$ ("Chevette Tubarão";1977;120;200000;2.5)
        \item carro2 $\rightarrow$ ("Vectra GT";2009;0;57000;50.0) 
                \ei
        \end{block}
\begin{center}
    \tiny
\begin{tikzpicture} 
    \umlclass{Carro}{ 
        + modelo : String \\ 
        + ano : int \\
        + velocidade :  int \\ 
        + quilometrosRodados :  int \\ 
        + combustivel :  double  
    }{ 
    } 
\end{tikzpicture}
\end{center}
\end{frame}

\section{Exemplo: Estoque de Produtos}

\subsection{Criando a classe Produto}

\begin{frame}[fragile]{Exemplo: Estoque de Produtos}
    Criar uma classe \lstinline|Produto| para um sistema de gerenciamento de estoque.
    
    \bi
        \item Atributos:
        \bi
            \item \lstinline|descricao : String|
            \item \lstinline|preco : float|
            \item \lstinline|quant : int|
        \ei
        \item Métodos:
        \bi
            \item \lstinline|emEstoque() : boolean|
        \ei
    \ei 
\end{frame}

\subsection{Definindo a classe Produto}


\begin{frame}[fragile]{Definindo a classe Produto: UML}
\begin{center}
    \tiny
\begin{tikzpicture} 
    \umlclass{Produto}{ 
        + descricao : String \\ 
        + preco : float \\
        + quant :  int  
    }{ 
    + emEstoque() : boolean} 
\end{tikzpicture}
\end{center}
\end{frame}

\begin{frame}[fragile]{Definindo a classe Produto}
\begin{lstlisting}
class Produto {
    String descricao;
    float preco;
    int quant;
    
    boolean emEstoque() {
        return (quant > 0);
    }
    
}
\end{lstlisting}
\end{frame}


\begin{frame}[fragile]{Usando a classe Produto}
\begin{lstlisting}
class Aplicacao {
    public static void main(String args[]) {
        Produto p = new Produto();

        p.descricao = "Shulambs";
        p.preco = 1.99F;
        p.quant = 200;
    
        System.out.println("Produto: " + p.descricao);
        System.out.println("Preço: " + p.preco);
        System.out.println("Estoque: " + p.quant);
        
        if (p.emEstoque()) {
            System.out.println("Produto em estoque.");
        }
    }
}
\end{lstlisting}
\end{frame}

\section{Construtores}
\subsection{Motivação}

\begin{frame}{Criando Objetos}
\lstinline|Produto p;|
    \begin{itemize}
        \item Cria-se uma referência para um objeto do tipo \lstinline|Produto|, mas não se aloca a memória para armazenar o objeto.
        \item Variável \lstinline|p| aponta para NADA (\lstinline|null|)
    \end{itemize}
\lstinline|p = new Produto();|
    \begin{itemize}
        \item Cria-se efetivamente o objeto \lstinline|Produto|.
        \item Faz com que a referência \lstinline|p| aponte para \lstinline|Produto|.
    \end{itemize}
\end{frame}


\begin{frame}{Construindo um objeto}
    
    \begin{itemize}
        \item Objetos são instâncias de uma classe:
        \begin{itemize}
            \item Lê-se instância como sendo um elemento com o tipo da classe e um estado corrente individual.
        \end{itemize}
        \item Exemplo:
        \begin{itemize}
            \item Classe $\longrightarrow$ Produto (tipo com descricao, preco e quantidade)
            \item Objeto de Produto  $\longrightarrow p = (Shulambs;  R\$1,99; 200)$
        \end{itemize}
        \item Ao criar um objeto sua memória é inicializada.
        \item Se não for definido um modo de inicialização o compilador usa valores padrão. Ex:
        \begin{itemize}
            \item \lstinline|p = new Produto();| cria $(null, 0.0, 0)$
        \end{itemize}
    \end{itemize}
    \begin{block}{}
            E se a gente quiser criar um objeto com outros valores?
    \end{block}
\end{frame}

\begin{frame}[fragile]{Aumentando a classe Produto: UML}
\begin{center}
    \tiny
\begin{tikzpicture} 
    \umlclass{Produto}{ 
        + descricao : String \\ 
        + preco : float \\
        + quant :  int  
    }{ 
    + inicializaProduto(descricao : String, preco : float, quant : int) : void \\ 
    + emEstoque() : boolean} 
\end{tikzpicture}
\end{center}
\end{frame}

\begin{frame}[fragile]{Aumentando a classe Produto}
\begin{lstlisting}
class Produto {
    String descricao;
    float preco;
    int quant;
    
    boolean emEstoque() {
        return (quant > 0);
    }
    
    void inicializaProduto(String d, float p, int q) {
        descricao = d;
        preco = p;
        quant = q;
    }
}
\end{lstlisting}
\end{frame}

\begin{frame}[fragile]{Usando a classe Produto tunada}
\begin{lstlisting}
class Aplicacao {
    public static void main(String args[]) {
        Produto p = new Produto();

        p.inicializaProduto("Shulambs", 1.99F, 200);
        // p.descricao = "Shulambs";
        // p.preco = 1.99F;
        // p.quant = 200;
    
        System.out.println("Produto: " + p.descricao);
        System.out.println("Preço: " + p.preco);
        System.out.println("Estoque: " + p.quant);
        
        if (p.emEstoque()) {
            System.out.println("Produto em estoque.");
        }
    }
}
\end{lstlisting}
\end{frame}

\begin{frame}{Hmmmmmmmmmmmmmm}
    \begin{figure}[h]
        \begin{center}
           \includegraphics[width=8cm]{./martinFowler.png}
        \end{center}
    \end{figure}
\end{frame}


\begin{frame}[fragile]{Construtores}
        \begin{itemize}
                \item Construtores são usados para inicializar objetos com valores diferentes do padrão.
                \item Construtores:
                        \begin{itemize}
                                \item Possuem o mesmo nome da classe.
                                \item Não possuem valores de retorno.
                        \end{itemize}
                \item Uma classe pode ter de 0 a muitos construtores.
                \item O Construtor com paramêtros para nossa classe Produto: 
        \end{itemize}
        \begin{lstlisting}
    Produto(String d, float p, int q) {
      descricao = d;
      preco = p;
      quant = q;
    }
        \end{lstlisting}
\end{frame}

\begin{frame}[fragile]{Classe Produto versão final}
\begin{lstlisting}
class Produto {
    String descricao;
    float preco;
    int quant;

    Produto(String d, float p, int q) {
      descricao = d;
      preco = p;
      quant = q;
    }

    boolean emEstoque() {
        return (quant > 0);
    }

}
\end{lstlisting}
\end{frame}
\begin{frame}[fragile]{UML final da classe Produto}
\begin{center}
    \tiny
\begin{tikzpicture} 
    \umlclass{Produto}{ 
        + descricao : String \\ 
        + preco : float \\
        + quant :  int  
    }{ 
    + emEstoque() : boolean} 
\end{tikzpicture}
\end{center}
\end{frame}

\subsection{Usando construtores}


\begin{frame}[fragile]{Usando construtores da classe Produto}
\begin{lstlisting}
class Aplicacao {
    public static void main(String args[]) {
        Produto p1 = new Produto();
        
        Produto p2 = new Produto("Shulambs", 1.99F, 200);
        
        System.out.println("Produto: " + p1.descricao);
        System.out.println("Preço: " + p1.preco);
        System.out.println("Estoque: " + p1.quant);
        
        System.out.println("Produto: " + p2.descricao);
        System.out.println("Preço: " + p2.preco);
        System.out.println("Estoque: " + p2.quant);
        
    }
}
\end{lstlisting}
\end{frame}
\begin{frame}[fragile]{Classe Produto versão final 2: agora vai!}
\begin{lstlisting}
class Produto {
    String descricao;
    float preco;
    int quant;

    Produto() {
      descricao = "Novo produto";
      preco = 4.20;
      quant = 0;
    }

    Produto(String d, float p, int q) {
      descricao = d;
      preco = p;
      quant = q;
    }

    boolean emEstoque() {
        return (quant > 0);
    }

}
\end{lstlisting}
\end{frame}

\begin{frame}[fragile]{Usando construtores da classe Produto}
\begin{lstlisting}
class Aplicacao {
    public static void main(String args[]) {
        Produto p1 = new Produto();
        
        Produto p2 = new Produto("Shulambs", 1.99F, 200);
        
        System.out.println("Produto: " + p1.descricao);
        System.out.println("Preço: " + p1.preco);
        System.out.println("Estoque: " + p1.quant);
        
        System.out.println("Produto: " + p2.descricao);
        System.out.println("Preço: " + p2.preco);
        System.out.println("Estoque: " + p2.quant);
        
    }
}
\end{lstlisting}
\end{frame}


\begin{frame}[fragile]{Obrigado!!}
        Muito obrigado pela atenção! Alguma dúvida? Bora praticar!!!
        \begin{block}{  }
                "\textit{De derrota em derrota até a vitória final.}"
        \end{block}
\end{frame}

\end{document}
